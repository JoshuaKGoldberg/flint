---
import type { StarlightRouteData } from "@astrojs/starlight/route-data";
import Default from "@astrojs/starlight/components/Head.astro";
import { getOgImageUrl } from "~/util/getOgImageUrl";

export type Props = StarlightRouteData;

const data = Astro.props.entry?.data ?? {
	description: "[Experimental] A fast, friendly linter. ‚ù§Ô∏è‚Äçüî•",
	title: "Flint",
};

const currentPath = Astro.url.pathname;
const ogImageUrl = getOgImageUrl(currentPath) ?? "social.webp";
const ogImage = new URL(ogImageUrl, Astro.site).toString();
---

<Default {...Astro.props}><slot /></Default>

<meta property="og:image" content={ogImage} />
<meta property="twitter:domain" content={Astro.site} />
<meta property="twitter:url" content={Astro.site} />
<meta name="twitter:description" content={data.description} />
<meta name="twitter:image" content={ogImage} />
<meta name="twitter:title" content={data.title} />
