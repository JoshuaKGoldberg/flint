{"version":3,"file":"inputFromOctokit.js","names":[],"sources":["../../src/inputs/inputFromOctokit.ts"],"sourcesContent":["import { createInput } from \"bingo\";\nimport { z } from \"zod\";\n\nexport const inputFromOctokit = createInput({\n\targs: {\n\t\tendpoint: z.string(),\n\t\toptions: z.record(z.string(), z.unknown()).optional(),\n\t},\n\t// TODO: Strongly type this, then push it upstream to Bingo\n\t// https://github.com/JoshuaKGoldberg/bingo/issues/296\n\tasync produce({ args, fetchers }): Promise<unknown> {\n\t\tif (!fetchers.octokit) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\ttry {\n\t\t\tconst response = await fetchers.octokit.request(args.endpoint, {\n\t\t\t\theaders: {\n\t\t\t\t\t\"X-GitHub-Api-Version\": \"2022-11-28\",\n\t\t\t\t},\n\t\t\t\trequest: { retries: 0 },\n\t\t\t\t...args.options,\n\t\t\t});\n\n\t\t\treturn response.data;\n\t\t} catch {\n\t\t\treturn undefined;\n\t\t}\n\t},\n});\n"],"mappings":";;;;AAGA,MAAa,mBAAmB,YAAY;CAC3C,MAAM;EACL,UAAU,EAAE,QAAQ;EACpB,SAAS,EAAE,OAAO,EAAE,QAAQ,EAAE,EAAE,SAAS,CAAC,CAAC,UAAU;EACrD;CAGD,MAAM,QAAQ,EAAE,MAAM,YAA8B;AACnD,MAAI,CAAC,SAAS,QACb;AAGD,MAAI;AASH,WARiB,MAAM,SAAS,QAAQ,QAAQ,KAAK,UAAU;IAC9D,SAAS,EACR,wBAAwB,cACxB;IACD,SAAS,EAAE,SAAS,GAAG;IACvB,GAAG,KAAK;IACR,CAAC,EAEc;UACT;AACP;;;CAGF,CAAC"}