{"version":3,"file":"blockVSCode.js","names":[],"sources":["../../src/blocks/blockVSCode.ts"],"sourcesContent":["import sortKeys from \"sort-keys\";\nimport { z } from \"zod\";\n\nimport { base } from \"../base.js\";\nimport { getPrimaryBin } from \"./bin/getPrimaryBin.js\";\nimport { blockDevelopmentDocs } from \"./blockDevelopmentDocs.js\";\n\nexport const blockVSCode = base.createBlock({\n\tabout: {\n\t\tname: \"VS Code\",\n\t},\n\taddons: {\n\t\tdebuggers: z\n\t\t\t.array(\n\t\t\t\tz.intersection(\n\t\t\t\t\tz.record(z.string(), z.unknown()),\n\t\t\t\t\tz.object({ name: z.string() }),\n\t\t\t\t),\n\t\t\t)\n\t\t\t.optional(),\n\t\textensions: z.array(z.string()).optional(),\n\t\tsettings: z.record(z.string(), z.unknown()).default({}),\n\t\ttasks: z\n\t\t\t.array(\n\t\t\t\tz.intersection(\n\t\t\t\t\tz.object({ detail: z.string() }),\n\t\t\t\t\tz.record(z.string(), z.unknown()),\n\t\t\t\t),\n\t\t\t)\n\t\t\t.optional(),\n\t},\n\tproduce({ addons, options }) {\n\t\tconst { debuggers, extensions, settings, tasks } = addons;\n\t\tconst primaryBin = getPrimaryBin(options.bin, options.repository);\n\n\t\treturn {\n\t\t\taddons: [\n\t\t\t\tblockDevelopmentDocs({\n\t\t\t\t\thints: [\n\t\t\t\t\t\t`> This repository includes a list of suggested VS Code extensions.`,\n\t\t\t\t\t\t`> It's a good idea to use [VS Code](https://code.visualstudio.com) and accept its suggestion to install them, as they'll help with development.`,\n\t\t\t\t\t],\n\t\t\t\t\tsections: {\n\t\t\t\t\t\tBuilding: {\n\t\t\t\t\t\t\tinnerSections: primaryBin\n\t\t\t\t\t\t\t\t? [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tcontents: `\nThis repository includes a [VS Code launch configuration](https://code.visualstudio.com/docs/editor/debugging) for debugging.\nTo debug a \\`bin\\` app, add a breakpoint to your code, then run _Debug Program_ from the VS Code Debug panel (or press F5).\nVS Code will automatically run the \\`build\\` task in the background before running \\`${primaryBin}\\`.\n`,\n\t\t\t\t\t\t\t\t\t\t\theading: \"Built App Debugging\",\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t: [],\n\t\t\t\t\t\t},\n\t\t\t\t\t\tTesting: {\n\t\t\t\t\t\t\tinnerSections: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tcontents: `\nThis repository includes a [VS Code launch configuration](https://code.visualstudio.com/docs/editor/debugging) for debugging unit tests.\nTo launch it, open a test file, then run _Debug Current Test File_ from the VS Code Debug panel (or press F5).\n`,\n\t\t\t\t\t\t\t\t\theading: \"Debugging Tests\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t],\n\t\t\tfiles: {\n\t\t\t\t\".vscode\": {\n\t\t\t\t\t\"extensions.json\": extensions?.length\n\t\t\t\t\t\t? JSON.stringify({\n\t\t\t\t\t\t\t\trecommendations: [...extensions].sort(),\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\"launch.json\": debuggers?.length\n\t\t\t\t\t\t? JSON.stringify({\n\t\t\t\t\t\t\t\tconfigurations: [...debuggers].sort((a, b) =>\n\t\t\t\t\t\t\t\t\ta.name.localeCompare(b.name),\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tversion: \"0.2.0\",\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\"settings.json\": JSON.stringify(\n\t\t\t\t\t\tsortKeys({\n\t\t\t\t\t\t\t\"editor.formatOnSave\": true,\n\t\t\t\t\t\t\t\"editor.rulers\": [80],\n\t\t\t\t\t\t\t...settings,\n\t\t\t\t\t\t}),\n\t\t\t\t\t),\n\t\t\t\t\t\"tasks.json\": tasks?.length\n\t\t\t\t\t\t? JSON.stringify({\n\t\t\t\t\t\t\t\ttasks: tasks.sort((a, b) => a.detail.localeCompare(b.detail)),\n\t\t\t\t\t\t\t\tversion: \"2.0.0\",\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t: undefined,\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t},\n});\n"],"mappings":";;;;;;;AAOA,MAAa,cAAc,KAAK,YAAY;CAC3C,OAAO,EACN,MAAM,WACN;CACD,QAAQ;EACP,WAAW,EACT,MACA,EAAE,aACD,EAAE,OAAO,EAAE,QAAQ,EAAE,EAAE,SAAS,CAAC,EACjC,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,CAAC,CAC9B,CACD,CACA,UAAU;EACZ,YAAY,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC,UAAU;EAC1C,UAAU,EAAE,OAAO,EAAE,QAAQ,EAAE,EAAE,SAAS,CAAC,CAAC,QAAQ,EAAE,CAAC;EACvD,OAAO,EACL,MACA,EAAE,aACD,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC,EAChC,EAAE,OAAO,EAAE,QAAQ,EAAE,EAAE,SAAS,CAAC,CACjC,CACD,CACA,UAAU;EACZ;CACD,QAAQ,EAAE,QAAQ,WAAW;EAC5B,MAAM,EAAE,WAAW,YAAY,UAAU,UAAU;EACnD,MAAM,aAAa,cAAc,QAAQ,KAAK,QAAQ,WAAW;AAEjE,SAAO;GACN,QAAQ,CACP,qBAAqB;IACpB,OAAO,CACN,sEACA,kJACA;IACD,UAAU;KACT,UAAU,EACT,eAAe,aACZ,CACA;MACC,UAAU;;;uFAGkE,WAAW;;MAEvF,SAAS;MACT,CACD,GACA,EAAE,EACL;KACD,SAAS,EACR,eAAe,CACd;MACC,UAAU;;;;MAIV,SAAS;MACT,CACD,EACD;KACD;IACD,CAAC,CACF;GACD,OAAO,EACN,WAAW;IACV,mBAAmB,YAAY,SAC5B,KAAK,UAAU,EACf,iBAAiB,CAAC,GAAG,WAAW,CAAC,MAAM,EACvC,CAAC,GACD;IACH,eAAe,WAAW,SACvB,KAAK,UAAU;KACf,gBAAgB,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,MACvC,EAAE,KAAK,cAAc,EAAE,KAAK,CAC5B;KACD,SAAS;KACT,CAAC,GACD;IACH,iBAAiB,KAAK,UACrB,SAAS;KACR,uBAAuB;KACvB,iBAAiB,CAAC,GAAG;KACrB,GAAG;KACH,CAAC,CACF;IACD,cAAc,OAAO,SAClB,KAAK,UAAU;KACf,OAAO,MAAM,MAAM,GAAG,MAAM,EAAE,OAAO,cAAc,EAAE,OAAO,CAAC;KAC7D,SAAS;KACT,CAAC,GACD;IACH,EACD;GACD;;CAEF,CAAC"}