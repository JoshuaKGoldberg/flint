{"version":3,"file":"blockPnpmDedupe.js","names":[],"sources":["../../src/blocks/blockPnpmDedupe.ts"],"sourcesContent":["import { base } from \"../base.js\";\nimport { blockDevelopmentDocs } from \"./blockDevelopmentDocs.js\";\nimport { blockGitHubActionsCI } from \"./blockGitHubActionsCI.js\";\nimport { blockPackageJson } from \"./blockPackageJson.js\";\nimport { blockRemoveWorkflows } from \"./blockRemoveWorkflows.js\";\n\nexport const blockPnpmDedupe = base.createBlock({\n\tabout: {\n\t\tname: \"pnpm Dedupe\",\n\t},\n\tproduce() {\n\t\treturn {\n\t\t\taddons: [\n\t\t\t\tblockDevelopmentDocs({\n\t\t\t\t\tsections: {\n\t\t\t\t\t\tLinting: {\n\t\t\t\t\t\t\tcontents: {\n\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t`- \\`pnpm lint:packages\\` ([pnpm dedupe --check](https://pnpm.io/cli/dedupe)): Checks for unnecessarily duplicated packages in the \\`pnpm-lock.yaml\\` file`,\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t\tblockGitHubActionsCI({\n\t\t\t\t\tjobs: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"Lint Packages\",\n\t\t\t\t\t\t\tsteps: [{ run: \"pnpm lint:packages\" }],\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t}),\n\t\t\t\tblockPackageJson({\n\t\t\t\t\tcleanupCommands: [\"pnpm dedupe\"],\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tscripts: {\n\t\t\t\t\t\t\t\"lint:packages\": \"pnpm dedupe --check\",\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t],\n\t\t};\n\t},\n\ttransition() {\n\t\treturn {\n\t\t\taddons: [\n\t\t\t\tblockRemoveWorkflows({\n\t\t\t\t\tworkflows: [\"lint-packages\"],\n\t\t\t\t}),\n\t\t\t],\n\t\t};\n\t},\n});\n"],"mappings":";;;;;;;AAMA,MAAa,kBAAkB,KAAK,YAAY;CAC/C,OAAO,EACN,MAAM,eACN;CACD,UAAU;AACT,SAAO,EACN,QAAQ;GACP,qBAAqB,EACpB,UAAU,EACT,SAAS,EACR,UAAU,EACT,OAAO,CACN,4JACA,EACD,EACD,EACD,EACD,CAAC;GACF,qBAAqB,EACpB,MAAM,CACL;IACC,MAAM;IACN,OAAO,CAAC,EAAE,KAAK,sBAAsB,CAAC;IACtC,CACD,EACD,CAAC;GACF,iBAAiB;IAChB,iBAAiB,CAAC,cAAc;IAChC,YAAY,EACX,SAAS,EACR,iBAAiB,uBACjB,EACD;IACD,CAAC;GACF,EACD;;CAEF,aAAa;AACZ,SAAO,EACN,QAAQ,CACP,qBAAqB,EACpB,WAAW,CAAC,gBAAgB,EAC5B,CAAC,CACF,EACD;;CAEF,CAAC"}