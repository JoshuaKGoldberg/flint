{"version":3,"file":"blockRepositoryLabels.js","names":[],"sources":["../../src/blocks/blockRepositoryLabels.ts"],"sourcesContent":["import { determineLabelChanges } from \"set-github-repository-labels\";\n\nimport { base } from \"../base.js\";\nimport { outcomeLabels } from \"./outcomeLabels.js\";\n\nexport const blockRepositoryLabels = base.createBlock({\n\tabout: {\n\t\tname: \"Repository Labels\",\n\t},\n\tproduce({ options }) {\n\t\tconst changes = determineLabelChanges(\n\t\t\toptions.existingLabels ?? [],\n\t\t\toutcomeLabels,\n\t\t);\n\t\tconst requestData = {\n\t\t\towner: options.owner,\n\t\t\trepo: options.repository,\n\t\t};\n\n\t\treturn {\n\t\t\trequests: changes.map((change) => {\n\t\t\t\tswitch (change.type) {\n\t\t\t\t\tcase \"delete\":\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tendpoint: \"DELETE /repos/{owner}/{repo}/labels/{name}\",\n\t\t\t\t\t\t\tid: `delete label '${change.name}'`,\n\t\t\t\t\t\t\tparameters: {\n\t\t\t\t\t\t\t\t...requestData,\n\t\t\t\t\t\t\t\tname: change.name,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttype: \"octokit\",\n\t\t\t\t\t\t};\n\t\t\t\t\tcase \"patch\":\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tendpoint: \"PATCH /repos/{owner}/{repo}/labels/{name}\",\n\t\t\t\t\t\t\tid: `patch label '${change.originalName}'`,\n\t\t\t\t\t\t\tparameters: {\n\t\t\t\t\t\t\t\t...requestData,\n\t\t\t\t\t\t\t\tcolor: change.color,\n\t\t\t\t\t\t\t\tdescription: change.description,\n\t\t\t\t\t\t\t\tname: change.originalName,\n\t\t\t\t\t\t\t\tnew_name: change.newName,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttype: \"octokit\",\n\t\t\t\t\t\t};\n\t\t\t\t\tcase \"post\":\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tendpoint: \"POST /repos/{owner}/{repo}/labels\",\n\t\t\t\t\t\t\tid: `post label '${change.name}'`,\n\t\t\t\t\t\t\tparameters: {\n\t\t\t\t\t\t\t\t...requestData,\n\t\t\t\t\t\t\t\tcolor: change.color,\n\t\t\t\t\t\t\t\tdescription: change.description,\n\t\t\t\t\t\t\t\tname: change.name,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttype: \"octokit\",\n\t\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}),\n\t\t};\n\t},\n});\n"],"mappings":";;;;;AAKA,MAAa,wBAAwB,KAAK,YAAY;CACrD,OAAO,EACN,MAAM,qBACN;CACD,QAAQ,EAAE,WAAW;EACpB,MAAM,UAAU,sBACf,QAAQ,kBAAkB,EAAE,EAC5B,cACA;EACD,MAAM,cAAc;GACnB,OAAO,QAAQ;GACf,MAAM,QAAQ;GACd;AAED,SAAO,EACN,UAAU,QAAQ,KAAK,WAAW;AACjC,WAAQ,OAAO,MAAf;IACC,KAAK,SACJ,QAAO;KACN,UAAU;KACV,IAAI,iBAAiB,OAAO,KAAK;KACjC,YAAY;MACX,GAAG;MACH,MAAM,OAAO;MACb;KACD,MAAM;KACN;IACF,KAAK,QACJ,QAAO;KACN,UAAU;KACV,IAAI,gBAAgB,OAAO,aAAa;KACxC,YAAY;MACX,GAAG;MACH,OAAO,OAAO;MACd,aAAa,OAAO;MACpB,MAAM,OAAO;MACb,UAAU,OAAO;MACjB;KACD,MAAM;KACN;IACF,KAAK,OACJ,QAAO;KACN,UAAU;KACV,IAAI,eAAe,OAAO,KAAK;KAC/B,YAAY;MACX,GAAG;MACH,OAAO,OAAO;MACd,aAAa,OAAO;MACpB,MAAM,OAAO;MACb;KACD,MAAM;KACN;;IAEF,EACF;;CAEF,CAAC"}