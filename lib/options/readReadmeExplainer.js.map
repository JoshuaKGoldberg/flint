{"version":3,"file":"readReadmeExplainer.js","names":["pair: [number, string | undefined]"],"sources":["../../src/options/readReadmeExplainer.ts"],"sourcesContent":["const lastTagMatchers = [`\">`, \"/p>\", \"/>\"];\n\nexport async function readReadmeExplainer(getReadme: () => Promise<string>) {\n\tconst readme = await getReadme();\n\n\tconst indexOfFirstH2 = readme.indexOf(\"##\");\n\tconst indexOfUsageH2 = /## Usage/.exec(readme)?.index;\n\tconst beforeH2s = readme.slice(0, indexOfUsageH2 ?? indexOfFirstH2);\n\tconst [indexOfLastTag, lastTagMatcher] = lastLastIndexOf(\n\t\tbeforeH2s,\n\t\tlastTagMatchers,\n\t);\n\tif (!lastTagMatcher) {\n\t\treturn undefined;\n\t}\n\n\tconst endingIndex =\n\t\tindexOfUsageH2 ?? /## (?:Contrib|Develop)/.exec(readme)?.index;\n\n\treturn readme\n\t\t.slice(indexOfLastTag + lastTagMatcher.length, endingIndex)\n\t\t.trim();\n}\n\nfunction lastLastIndexOf(text: string, matchers: string[]) {\n\tlet pair: [number, string | undefined] = [-1, undefined];\n\n\tfor (const matcher of matchers) {\n\t\tconst indexOf = text.lastIndexOf(matcher);\n\t\tif (indexOf > pair[0]) {\n\t\t\tpair = [indexOf, matcher];\n\t\t}\n\t}\n\n\treturn pair;\n}\n"],"mappings":";AAAA,MAAM,kBAAkB;CAAC;CAAM;CAAO;CAAK;AAE3C,eAAsB,oBAAoB,WAAkC;CAC3E,MAAM,SAAS,MAAM,WAAW;CAEhC,MAAM,iBAAiB,OAAO,QAAQ,KAAK;CAC3C,MAAM,iBAAiB,WAAW,KAAK,OAAO,EAAE;CAEhD,MAAM,CAAC,gBAAgB,kBAAkB,gBADvB,OAAO,MAAM,GAAG,kBAAkB,eAAe,EAGlE,gBACA;AACD,KAAI,CAAC,eACJ;CAGD,MAAM,cACL,kBAAkB,yBAAyB,KAAK,OAAO,EAAE;AAE1D,QAAO,OACL,MAAM,iBAAiB,eAAe,QAAQ,YAAY,CAC1D,MAAM;;AAGT,SAAS,gBAAgB,MAAc,UAAoB;CAC1D,IAAIA,OAAqC,CAAC,IAAI,OAAU;AAExD,MAAK,MAAM,WAAW,UAAU;EAC/B,MAAM,UAAU,KAAK,YAAY,QAAQ;AACzC,MAAI,UAAU,KAAK,GAClB,QAAO,CAAC,SAAS,QAAQ;;AAI3B,QAAO"}