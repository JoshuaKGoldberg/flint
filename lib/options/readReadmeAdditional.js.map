{"version":3,"file":"readReadmeAdditional.js","names":[],"sources":["../../src/options/readReadmeAdditional.ts"],"sourcesContent":["import { indicatorsTemplatedBy } from \"./readReadmeFootnotes.js\";\n\nconst indicatorAfterAllContributors = /<!--\\s*ALL-CONTRIBUTORS-LIST:END\\s*-->/;\nconst indicatorAfterAllContributorsSpellCheck =\n\t/<!--\\s*spellchecker:\\s*enable\\s*-->/;\n\nexport async function readReadmeAdditional(getReadme: () => Promise<string>) {\n\tconst readme = await getReadme();\n\tif (!readme) {\n\t\treturn undefined;\n\t}\n\n\tconst indexAfterContributors =\n\t\tindicatorAfterAllContributorsSpellCheck.exec(readme) ??\n\t\tindicatorAfterAllContributors.exec(readme);\n\tif (!indexAfterContributors) {\n\t\treturn undefined;\n\t}\n\n\tconst indexOfFirstTemplatedBy = indicatorsTemplatedBy.reduce(\n\t\t(smallest, indicator) => {\n\t\t\tconst indexOf = indicator.exec(readme)?.index;\n\t\t\treturn indexOf ? Math.min(smallest, indexOf) : smallest;\n\t\t},\n\t\treadme.length,\n\t);\n\n\treturn readme\n\t\t.slice(\n\t\t\tindexAfterContributors.index + indexAfterContributors[0].length,\n\t\t\tindexOfFirstTemplatedBy,\n\t\t)\n\t\t.trim();\n}\n"],"mappings":";;;AAEA,MAAM,gCAAgC;AACtC,MAAM,0CACL;AAED,eAAsB,qBAAqB,WAAkC;CAC5E,MAAM,SAAS,MAAM,WAAW;AAChC,KAAI,CAAC,OACJ;CAGD,MAAM,yBACL,wCAAwC,KAAK,OAAO,IACpD,8BAA8B,KAAK,OAAO;AAC3C,KAAI,CAAC,uBACJ;CAGD,MAAM,0BAA0B,sBAAsB,QACpD,UAAU,cAAc;EACxB,MAAM,UAAU,UAAU,KAAK,OAAO,EAAE;AACxC,SAAO,UAAU,KAAK,IAAI,UAAU,QAAQ,GAAG;IAEhD,OAAO,OACP;AAED,QAAO,OACL,MACA,uBAAuB,QAAQ,uBAAuB,GAAG,QACzD,wBACA,CACA,MAAM"}