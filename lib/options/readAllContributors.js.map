{"version":3,"file":"readAllContributors.js","names":[],"sources":["../../src/options/readAllContributors.ts"],"sourcesContent":["import { TakeInput } from \"bingo\";\nimport { inputFromFileJSON } from \"input-from-file-json\";\n\nimport { startingOwnerContributions } from \"../data/contributions.js\";\nimport { inputFromOctokit } from \"../inputs/inputFromOctokit.js\";\nimport { AllContributorsData } from \"../types.js\";\n\nexport async function readAllContributors(take: TakeInput) {\n\tconst contributions = (await take(inputFromFileJSON, {\n\t\tfilePath: \".all-contributorsrc\",\n\t})) as AllContributorsData | Error;\n\n\tif (!(contributions instanceof Error)) {\n\t\treturn contributions.contributors;\n\t}\n\n\tconst user = (await take(inputFromOctokit, {\n\t\tendpoint: \"GET /user\",\n\t})) as\n\t\t| undefined\n\t\t| { avatar_url: string; blog: string; login: string; name: string };\n\n\treturn (\n\t\tuser && [\n\t\t\t{\n\t\t\t\tavatar_url: user.avatar_url,\n\t\t\t\tcontributions: startingOwnerContributions,\n\t\t\t\tlogin: user.login,\n\t\t\t\tname: user.name,\n\t\t\t\tprofile: user.blog,\n\t\t\t},\n\t\t]\n\t);\n}\n"],"mappings":";;;;;AAOA,eAAsB,oBAAoB,MAAiB;CAC1D,MAAM,gBAAiB,MAAM,KAAK,mBAAmB,EACpD,UAAU,uBACV,CAAC;AAEF,KAAI,EAAE,yBAAyB,OAC9B,QAAO,cAAc;CAGtB,MAAM,OAAQ,MAAM,KAAK,kBAAkB,EAC1C,UAAU,aACV,CAAC;AAIF,QACC,QAAQ,CACP;EACC,YAAY,KAAK;EACjB,eAAe;EACf,OAAO,KAAK;EACZ,MAAM,KAAK;EACX,SAAS,KAAK;EACd,CACD"}