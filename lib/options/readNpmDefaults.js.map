{"version":3,"file":"readNpmDefaults.js","names":[],"sources":["../../src/options/readNpmDefaults.ts"],"sourcesContent":["import { ExecaError, Result } from \"execa\";\nimport npmUser from \"npm-user\";\n\nimport { swallowErrorAsync } from \"../utils/swallowErrorAsync.js\";\n\n// TODO: npmUser does not go through take(input*), making it harder to test.\n// https://github.com/JoshuaKGoldberg/create-typescript-app/issues/1990\nexport async function readNpmDefaults(\n\tgetNpmWhoami: () => Promise<ExecaError | Result | undefined>,\n) {\n\tconst whoami = await getNpmWhoami();\n\treturn typeof whoami?.stdout === \"string\"\n\t\t? await swallowErrorAsync(npmUser(whoami.stdout))\n\t\t: undefined;\n}\n"],"mappings":";;;;AAOA,eAAsB,gBACrB,cACC;CACD,MAAM,SAAS,MAAM,cAAc;AACnC,QAAO,OAAO,QAAQ,WAAW,WAC9B,MAAM,kBAAkB,QAAQ,OAAO,OAAO,CAAC,GAC/C"}